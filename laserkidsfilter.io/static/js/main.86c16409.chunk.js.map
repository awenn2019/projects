{"version":3,"sources":["hooks/useDidUpdateEffect.js","utils.js","hooks/useFetch.js","api/rest.js","Context.js","ui/Loader.js","components/product/ProductContent.js","components/widgets/TextWidget.js","images/phone-call.png","images/whatsapp.png","images/email.png","components/widgets/NavWidget.js","ui/sidebar/Sidebar.js","pages/Product.js","api/TodosService.js","images/arrow-down.png","components/todo/TodoHeader.js","components/todo/TodoForm.js","images/refresh-white.png","components/todo/TodoItem.js","images/editing.png","images/check.png","images/x-button.png","pages/Todo.js","images/icons/delete.svg","images/icons/delete-red.svg","components/cart/CartItem.js","components/checkout/Checkout.js","pages/Cart.js","components/products/ProductItem.js","components/products/ProductList.js","components/filter/FilterRange.js","components/filter/FilterCategory.js","components/filter/FilterOrderby.js","components/filter/FilterSearch.js","components/filter/ClearFilter.js","components/filter/ProductsFilter.js","hooks/useProducts.js","api/rest-utils.js","router/index.js","pages/Catalog.js","router/MainRouter.js","hooks/useLocationChange.js","images/icons/shopping-cart-white.svg","components/cart/HeaderCartItem.js","components/cart/HeaderCart.js","ui/header/Header.js","App.js","index.js"],"names":["useDidUpdateEffect","effect","deps","didMount","useRef","useEffect","current","htmlQuotes","str","replace","n","split","join","price_format","price","location","Intl","NumberFormat","format","calcTotalCart","cart","total","key","qty","pushCart","product","new_cart","getMapProduct","product_map","id","name","img","images","thumbnail","parseInt","prices","suffix","currency_suffix","findAndReplaceList","newItem","someList","map","item","_id","useFetch","callback","useState","isLoading","setLoading","status","message","error","setError","fetching","a","ProductService","categories","totalPages","read_categories","page","axios","get","params","res","data","headers","getProducts","products","isNext","getProductById","Context","React","createContext","CartContext","FilterContext","ProductContext","Loader","className","role","ProductContent","useContext","cartMap","calcTotal","addToCart","useParams","setProduct","setQty","inCart","setInCart","cartKeys","Object","keys","length","includes","Fragment","href","src","target","rel","alt","type","value","onChange","e","onClick","ind","description","dangerouslySetInnerHTML","__html","TextWidget","NavWidget","to","Sidebar","Product","TodosService","getAll","getById","console","getByPage","create","title","post","delete","update","todo","put","deleteAll","TodoHeader","setPage","qtyPages","visible","setVisible","pages","setPages","arr","Array","from","_","i","prev","arrowDown","style","transform","defaultValue","disabled","TodoForm","addTodo","removeAllTodos","refreshTodos","newTodo","setNewTodo","placeholder","onInput","TodoItem","removeItem","changeItem","doCompletedTodo","completed","checked","setChecked","todoTitle","setTodoTitle","editor","setEditor","itemGap","completedTodo","paddingTop","paddingBottom","htmlFor","TodoList","todoList","setTodoList","setQtyPages","todos","loadTodo","loadAllTodos","removeTodo","filter","rewriteTodoData","field","newParam","List","updatingTodo","find","updatedTodo","changeTodo","window","confirm","CartItem","removeProduct","min","max","trash","onMouseEnter","setAttribute","trash_h","onMouseLeave","Checkout","paymentMethod","setPaymentMethod","shipingMethod","setShipingMethod","phone","email","form","setForm","changePM","changeSM","required","sizes_td","Colgroup","width","THead","TBody","TFoot","totalCart","colSpan","Cart","gap","ProductItem","push","useHistory","String","ProductList","FilterRange","minRange","setMinRange","maxRange","setMaxRange","currentRange","setCurrentRange","setMaxCost","sortedPosts","category","min_max","productsList","Math","calc_min_max","step","onMouseUp","FilterCategory","setCategory","count","FilterOrderby","orderby","setOrderby","FilterSearch","searchQuery","setSearchQuery","ClearFilter","ProductsFilter","useSortedByCategoryProducts","useMemo","Error","some","cat","sortByCategory","useProducts","maxCost","query","byMaxCost","sortedByCost","cost","sortByCost","useSortedByCostProducts","byOrderby","sortedByOrderby","sort","b","sortByOrderby","useSortedByOrderbyProducts","bySearch","filtredPosts","toLowerCase","trim","searchByQuery","useSortedBySearchProducts","get_categories","getCategories","routes","path","component","cacheProducts","setCacheProducts","useStateIfMounted","setProducts","setCategories","prod","Provider","exact","Todo","MainRouter","route","render","props","Helmet","useLocationChange","action","useLocation","HeaderCartItem","icon_trash","icon_trash_hover","HeaderCart","setPath","showCart","setShowCart","cartCounter","pathname","Boolean","icon_cart_path","Header","App","setCartMap","setCartCounter","setTotalCart","localStorage","getItem","localCart","JSON","parse","setItem","stringify","cartList","reduce","obj","filterCart","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.86c16409.chunk.js","sourcesContent":["import { useRef, useEffect } from \"react\";\r\n\r\nfunction useDidUpdateEffect(effect, deps) {\r\n  const didMount = useRef(false);\r\n\r\n  useEffect(() => {\r\n    if (didMount.current) {\r\n      effect();\r\n    } else {\r\n      didMount.current = true;\r\n    }\r\n  }, [...deps]); // eslint-disable-line react-hooks/exhaustive-deps\r\n}\r\n\r\nexport default useDidUpdateEffect;\r\n","export const sortByCategory = (category = -1, products) => {\r\n  if (typeof category !== \"number\")\r\n    throw new Error(\"The category argument that came in is not a number\");\r\n\r\n  return category === -1\r\n    ? products\r\n    : products.filter((item) =>\r\n        item.categories.some((cat) => cat.id === category)\r\n      );\r\n};\r\n\r\nexport const sortByCost = (cost, products) => {\r\n  return products.filter((item) => item.prices.price <= cost);\r\n};\r\n\r\nexport const sortByOrderby = (orderby, products) => {\r\n  if (orderby === \"default\") return products;\r\n\r\n  return products.sort((a, b) => {\r\n    if (orderby === \"asc\") return a.prices.price - b.prices.price;\r\n    if (orderby === \"desc\") return b.prices.price - a.prices.price;\r\n    else return null;\r\n  });\r\n};\r\n\r\nexport const searchByQuery = (query, products) => {\r\n  return query !== \"\"\r\n    ? products.filter((post) =>\r\n        post.name.toLowerCase().includes(query.toLowerCase().trim())\r\n      )\r\n    : products;\r\n};\r\n\r\nexport const htmlQuotes = (str) => {\r\n  let replace = {\r\n    \"&#171;\": \"«\",\r\n    \"&#187;\": \"»\",\r\n  };\r\n\r\n  for (var n in replace) str = str.split(n).join(replace[n]);\r\n\r\n  return str;\r\n};\r\n\r\nexport const price_format = (price, location = \"ru-RU\") => {\r\n  return new Intl.NumberFormat(location).format(price);\r\n};\r\n\r\nexport const calcTotalCart = (cart) => {\r\n  let total = 0;\r\n\r\n  for (const key in cart) {\r\n    total += cart[key].price * cart[key].qty;\r\n  }\r\n\r\n  return total;\r\n};\r\n\r\nexport const filterCart = (id, cartList) => {\r\n  return Object.keys(cartList)\r\n    .filter((key) => key !== String(id))\r\n    .reduce((obj, key) => {\r\n      obj[key] = cartList[key];\r\n      return obj;\r\n    }, {});\r\n};\r\n\r\nexport const pushCart = (key, product, cart) => {\r\n  let new_cart = {};\r\n\r\n  new_cart = {\r\n    ...cart,\r\n  };\r\n  new_cart[key] = product;\r\n\r\n  return new_cart;\r\n};\r\n\r\nexport const calc_min_max = (productsList) => {\r\n  let prices = [];\r\n  prices.push(...productsList.map((product) => parseInt(product.prices.price)));\r\n  return [Math.min(...prices), Math.max(...prices)];\r\n};\r\n\r\nexport const getMapProduct = (product, qty = 1) => {\r\n  const product_map = {\r\n    id: product.id,\r\n    name: product.name,\r\n    img: product.images[0].thumbnail ?? \"https://via.placeholder.com/300x300\",\r\n    price: parseInt(product.prices.price),\r\n    qty: parseInt(qty),\r\n    total: parseInt(product.prices.price) * parseInt(qty),\r\n    suffix: product.prices.currency_suffix,\r\n  };\r\n\r\n  return product_map;\r\n};\r\n\r\nexport const findAndReplaceList = (newItem, someList) => {\r\n  return someList.map((item) =>\r\n    item._id !== newItem._id ? item : { ...newItem }\r\n  );\r\n};\r\n\r\n\r\n\r\n","import { useState } from \"react\";\r\n\r\nconst useFetch = (callback) => {\r\n  const [isLoading, setLoading] = useState(false);\r\n  const [error, setError] = useState({\r\n    status: false,\r\n    message: ''\r\n    \r\n  });\r\n\r\n  const fetching = async () => {\r\n    try {\r\n      setLoading(true);\r\n      await callback();\r\n    } catch (e) {\r\n      setError({\r\n        status: true,\r\n        message: e.message,\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return [fetching, isLoading, error];\r\n};\r\n\r\nexport default useFetch;\r\n","import axios from \"axios\";\r\n\r\nexport default class ProductService {\r\n  static async getCategories(callback) {\r\n    let categories = [];\r\n    let totalPages = 0;\r\n\r\n    const read_categories = async (page = 1) => {\r\n      const res = await axios.get(\r\n        \"https://laserkids.ru/wp-json/wc/store/products/categories/\",\r\n        {\r\n          params: {\r\n            page: page,\r\n          },\r\n        }\r\n      );\r\n\r\n      categories = [...categories, ...res.data];\r\n      totalPages = res.headers[\"x-wp-totalpages\"] ?? 1;\r\n\r\n      if (page < totalPages) {\r\n        read_categories(page + 1);\r\n      } else {\r\n        callback(categories);\r\n      }\r\n    };\r\n\r\n    await read_categories();\r\n  }\r\n\r\n  static getProducts = async () => {\r\n    let products = [];\r\n    let page = 1;\r\n    let isNext = true;\r\n\r\n    while (isNext) {\r\n      const { headers, data } = await axios.get(\r\n        \"https://laserkids.ru/wp-json/wc/store/products?page=\" + page\r\n      );\r\n\r\n      products = [...products, ...data];\r\n      const total = headers[\"x-wp-totalpages\"] ?? 1;\r\n\r\n      isNext = page < total;\r\n      page++;\r\n    }\r\n\r\n    return products;\r\n  };\r\n\r\n  static getProductById = async (id) => {\r\n    const res = await axios.get(\r\n      \"https://laserkids.ru/wp-json/wc/store/products/?include=\" + id\r\n    );\r\n\r\n    return res.data[0];\r\n  };\r\n}\r\n","import React from \"react\";\r\n\r\nexport const Context = React.createContext();\r\nexport const CartContext = React.createContext();\r\nexport const FilterContext = React.createContext();\r\nexport const ProductContext = React.createContext();","const Loader = () => (\r\n  <div className=\"loading-spinner\">\r\n    <div className=\"spinner-border text-default\" role=\"status\">\r\n      <span className=\"visually-hidden\">Loading...</span>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Loader;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport useFetch from \"hooks/useFetch\";\r\nimport ProductService from \"api/rest\";\r\nimport { CartContext } from \"Context\";\r\nimport useDidUpdateEffect from \"hooks/useDidUpdateEffect\";\r\nimport Loader from \"ui/Loader\";\r\nimport { htmlQuotes } from \"utils\";\r\n\r\nconst ProductContent = () => {\r\n  // context\r\n  const { cartMap, calcTotal, addToCart } = useContext(CartContext);\r\n  // params\r\n  const { id } = useParams();\r\n  // states\r\n  const [product, setProduct] = useState(null);\r\n  const [qty, setQty] = useState(1);\r\n  const [inCart, setInCart] = useState(false);\r\n  // fetch\r\n  const [fetching, isLoading] = useFetch(async () => {\r\n    const res = await ProductService.getProductById(id);\r\n    setProduct(res);\r\n  });\r\n\r\n  useEffect(() => fetching(), [id]); // eslint-disable-line\r\n\r\n  useDidUpdateEffect(() => {\r\n    if (inCart) calcTotal(id, qty);\r\n  }, [qty]);\r\n\r\n  useEffect(() => {\r\n    const cartKeys = Object.keys(cartMap);\r\n    if (cartKeys.length && cartKeys.includes(id)) setQty(cartMap[id].qty);\r\n    setInCart(cartKeys.includes(id));\r\n  }, [cartMap, id]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {!isLoading & (product !== null) ? (\r\n        <React.Fragment>\r\n          <div className=\"product-wrapper\">\r\n            <div className=\"row\">\r\n              <div className=\"col-5\">\r\n                <div className=\"product-image\">\r\n                  <a\r\n                    href={product.images[0].src}\r\n                    target=\"_blank\"\r\n                    rel=\"noreferrer\"\r\n                  >\r\n                    <img src={product.images[0].src} alt={`product-${id}`} />\r\n                  </a>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-7\">\r\n                <div className=\"product-body\">\r\n                  <p className=\"product-name\">{htmlQuotes(product.name)}</p>\r\n                  <p className=\"product-price\">\r\n                    {product.prices.price}\r\n                    {product.prices.currency_suffix}\r\n                  </p>\r\n                  <div className=\"product__add-cart\">\r\n                    <input\r\n                      type=\"number\"\r\n                      className=\"form-control product-qty\"\r\n                      value={qty}\r\n                      onChange={(e) => setQty(parseInt(e.target.value))}\r\n                    />\r\n                    {inCart ? (\r\n                      <span className=\"product__cart cart_added\">\r\n                        В корзине &#10004;\r\n                      </span>\r\n                    ) : (\r\n                      <span\r\n                        className=\"product__cart\"\r\n                        onClick={() => {\r\n                          addToCart(product, qty);\r\n                          setInCart(true);\r\n                        }}\r\n                      >\r\n                        В корзину\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  <p>\r\n                    Категория:{\" \"}\r\n                    <span className=\"product-categories\">\r\n                      {product.categories.map((item, ind) => {\r\n                        return ind + 1 !== product.categories.length\r\n                          ? `${item.name}, `\r\n                          : `${item.name}`;\r\n                      })}\r\n                    </span>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {product.description ? (\r\n            <div className=\"product-wrapper\">\r\n              <div\r\n                className=\"product-description\"\r\n                dangerouslySetInnerHTML={{ __html: product.description }}\r\n              ></div>\r\n            </div>\r\n          ) : null}\r\n        </React.Fragment>\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ProductContent;\r\n","import React from \"react\";\r\n// images\r\nimport call from \"images/phone-call.png\";\r\nimport whatsapp from \"images/whatsapp.png\";\r\nimport email from \"images/email.png\";\r\n\r\nconst TextWidget = () => {\r\n  return (\r\n    <div className=\"text-widget text-widget__contacts\">\r\n      <p>\r\n        <span className=\"text-widget__img\">\r\n          <img src={call} alt=\"phone-call\" />\r\n        </span>\r\n\r\n        <a href=\"tel:+79603621543\">+7 (960) 362 1543</a>\r\n      </p>\r\n      <p>\r\n        <span className=\"text-widget__img\">\r\n          <img src={whatsapp} alt=\"whatsapp\" />\r\n        </span>\r\n\r\n        <a href=\"https://wa.me/79603621543\" target=\"_blank\" rel=\"noreferrer\">\r\n          +7 (960) 362 1543\r\n        </a>\r\n      </p>\r\n      <p>\r\n        <span className=\"text-widget__img\">\r\n          <img src={email} alt=\"email\" />\r\n        </span>\r\n\r\n        <a href=\"mailto:laserkid@yandex.ru\" target=\"_blank\" rel=\"noreferrer\">\r\n          laserkid@yandex.ru\r\n        </a>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TextWidget;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYEAYAAACw5+G7AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5QoKEBsa5yJJxAAABF5JREFUWMPNl3tMU2cYxp+3tDAuA1niGC2ijLExUMe4jGWyZGQYCS04QSqCMpxZqo5dYEtA5SoyYCJVRjYRmDpx0Qo2gwoyXBaRBHVAMghudtJFWCkjJlwk5db22x9SdjGkBVzZ89dJTp7nPL/vOyffewj/0nOlpeENShsbrVJ3jXWVldEEXsKncXFMil6sVKlYCE6ydcnJmq7ULaLi69exzCLjhY8sm8kuWFuPXnB6x764pgY3sA45kZGPOB7AiiQTE0xEmYYvo6IGvkkZE0VevbpcABzjio8EOSntk+TyeYsb9ST0rNzWlhQsj7O3ro4fL3VU1IeFLRuA9mt9DzuWnk4huIyaiAiznbMgyGDv0pRCIYiSJig0QqHFAaiTTVF5QsJiA2gjBLC1scFK1kvC8+cF75eGNyjd3CwGgEq8wU67uCw56QrEyHNwMGTrRKwqIMByAGpw8bJavdQgdhhtKJqZ4fnTAfZ6d7flAIJYLnuxrW3RxYtwHy+oVJwu9DPNtm19fSljIpFKZTmAcUxb7aitXXDxJIyhr72dlzCab+fp6/u7NPWG6Fe53FLF5wDUW1f1PNjS1MTa4IgDd++aa6QTCCNpVdU9yqVQmpy0dPE5AEAsFov1ejaFSnQVFprtDEc/+0IgWK7ifwN4KI3XaJud4cwZJKKDKjs7TTqfQgCmd+40HoTLDgDkUijpdJwV2IseiQTRkMFDr5/XeQkKsNWrtdO6Efjl5PwPAB6qPy01JELZ3s78yZM+yM01FUAy9LOktDT++pIjih1xcYst8syuYr8GpY+PgH+0WFEfG+tafnxFvb+7+4IBjBrYNVJ9szk/n32FQ/i+sXHeBDU+hpAIrXSQrE6dckspebXBLj7e3OKCDUerGtISE61GOAexqbsbRBziyGScW3pvDnp6TM1aZOoB7u4FBQqFs7Puc+tkCm9poX1Ugaa1a002G0YvvS2VGqT26/XuGRkaiUQS2anVGm8/61FY0Pydk9NkvY10JvP2bdrE0lkWn/9Ijonp1ySAUauKin759jU+3+DJ8+JNtrbiQxxneR4epnysAn+gUaOhIRZHg+fOsTJOFHt6fHxuBnNFOqvz8jJZYBbEMGTYx+SbN2ue+IQnDGpuNhtgDiT0s8kGpaen4T0uD3HNzeaCPDbNgtAdzhg7Fh6+YIA5kNkd0XtzBdyWpiazX63HJPYzClDa1bVoAKPmvpFrNtEUW1294P+KxQJkQgK7wUHOUoP6+vbvF4mGhwc8Rp+/pY2MZIepg6RZWSbPkSWKNuAeHM6eXfIOzCe+TMoub/Xzw08sF29WVNBpOMI9MHCpuUyOGPxWW+u6x77RJXj79v8M4C9lsx8YlysQO17UfrR7N4LpEkbT01GCVxC7Zs1ii3d0SvYEBs3MWADgnwrwLz/R/iOPNyDRSoZOCoXkyu7jZkwMvQVf9AQHwxtc1i4QsCs4hKSBAbqDaHhVVak3jjrbXSwuNo48xrw/AeIx3Jud3VH5AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTEwLTEwVDE2OjI3OjI2KzAwOjAwX9pcYwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0xMC0xMFQxNjoyNzoyNiswMDowMC6H5N8AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAMrSURBVEiJrZZfaFt1FMc/55emydbV3IamUp06ttkYROdsU9wQt8L61o4ksIIw4oOoCIKCLxaZ+OfBh8EQ3waCFEVrC00LgogPKTJBSBvbMq1OZDhsH5rOBZvRLmnu8cE2velyu6b4fbq/cw7f7zm/e885V1QVNyRSibaiSlSM3QV0CnQBKEwB02qbqUbRzFh8bMmNQ2oJ9Ez2NDTlrUEDFxS8rhkAAiUbPrht5T9Mn06v31OgL5WIiOgQEN2JuAYyqvLC1/GxeafROA/9E7GkGDu7B3KAqBg72z8RSzqNlQr6UomIGDuLin8P5E7GNbXN05uVGPjvzkV0yEn+0IGDxA6fJegP1ieg4hfRoZ7JnoaKQFPeGsRxLeGWDi49d5Fk5DwXooN7qSO6wYln7thcmwoTgGfTm4yc59B9jwBg+Sxml+dYXrtZl4KBZ0fnRy6bokp0+6cYaQlXBfc+fKbuEhS8RZWo2WiiKty6k68OVrtuAQAxdpcBOrc7ZnKzlee/127xyS+f7kkA6DSb7e/E94tXKGt546R4zY7N7AqBLlNrFCwUFhj7YxyAoD/Im8ffwIi5i2A3MMCvtRzD10b4KTcDwJOtT/DS4y/iEU9VTHNjM5bPciVXmPJ0PB8+AXLXewCYXsoSbesk4Atw1DrCifZnuLFyg9zqMu1N7Xx86hKxw2cJ7W/lr8IihVJhO8WX0peKvQ585JZFc2Mzb0ffosN6tGKbyc1y8MCDtO5rrdjKWubV9Gssr271i9qmz3hVPgdW3ARWiiu8++P7fPvnd2zOradCx6rIATzioVC6XTkLlBpFM5754fnVL34b9gtyyk1kXctML2WZXsryQFM7oX0hRKQq5qvfR5nNzW1lD+9NxFPfiKrSOzoQ8HtL14EWNxEnLF+A7vujRIKPcadc5MriD1y9+bMzJFOw8ifTp9PrW+N6PH5d4NBuBHZErXHdPx7v/r/IgVecW60BQGDAffXvGhm1Te2VqXAOyAOfIZoow1FELwL/3DNpKCm8U7DyJ7eTA8iZkXOB/Q3r3Qu50OTUy5dLTmfv6EDA5y0lReU4omEgLFCs57flX0EkMkeNoDLGAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYEAYAAACw5+G7AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5QoKEB8oS5ndQAAAAv1JREFUWMPtl11IU2EYx//POU4ktShEp9tACzSZepMaGkoYhZFgfpIEfgx1KhlEpFSEelGkIhKSmR9bRiTMJIUsyIrIStQUdBMDK8S5nCKo4MVqbm83ngXJIHV4Cvzdnfdw3uf3f57D4bzALrtsC1JUt1XPXImMtCXSMlVqNFQJFXqVSgyhHzEcJ7agg2jEYcBuZ+0IRqjBwEI4rX2vSkUBPZqlWT+9nkrwlH0KCxPb829hzzGFA3o9RzUkZ3elUrGFNgvdxmE0SaUcvHCRPOvrxRbaNCHwpJX6ehKuZQFazawxIwNBKGWDjY2YZg046uMjtqcAewIzJSwvkwH3EF9ebipQGeVtzc2cLFubP/tAq3UzIc8q7+tb28N/lXgrlewpPYShq0tscSxQJ3S9vfw7xtvPKpVu+TRjbdXpBG8Or1ksO5Gba73PrknOTE5y6TY/69XY2O/ReW8Vp9PTwQiEzEwEUikGFxd3qtOoRAVVqtUma94LxeWkJGbmykgaEbG2H7zbqF4veJNMptEYjYxt3AkVqOjsZJ/5O5yuuNiWRrF8F8/zN23nrPbGRkph2QhLS3N1p+kCZwLUavduS8nP5NVVyyPJefeemhrKRCcyCwv/fMz5d55QhaqMDDy2DbN4g8HVk3HWacA+BoSH/1hyL3FfMRiciTs0nU7AaeVtTmaLnXZdACHHDUyR2mxmRLeYubh4Tp1HitHubn+j5ojxWFYWlwp/pJaVIYje4wtj9jp2COO1tXMK1YjiQ0eH/JKWGesSE5kWPI63tMCTtcJXLt+sx5YDbECKASS3t1v32UqtReXlC28KIg4Wzs8Lt30TWsa/Nfv5SVb4BklTdTXMiEFPTs52y7ougDCZSaxSoMVC/RjAqeFhx3ocYvAyKopC4cWmPTxcVc/NVRs5OvJb8CQQF+dYd3Whdf6dv80tB5ChDS58hXaMdW+OXcczSpmYENtns7BX+AhvvZ5jRVyPbSg3FxYEY2RsTDg4iC24AcFr3VM40Iittct/zy/zh3+SYYcCLwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0xMC0xMFQxNjozMTo0MCswMDowMDb1z1kAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMTAtMTBUMTY6MzE6NDArMDA6MDBHqHflAAAAAElFTkSuQmCC\"","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst NavWidget = () => {\r\n  return (\r\n    <nav className=\"nav-widget\">\r\n      <ul className=\"nav-widget__list\">\r\n        <li className=\"nav-widget__item\">\r\n          <Link to=\"/catalog/\">Каталог</Link>\r\n        </li>\r\n        <li className=\"nav-widget__item\">\r\n          <Link to=\"/cart/\">Корзина</Link>\r\n        </li>\r\n        <li className=\"nav-widget__item\">\r\n          <Link to=\"/todo/\">Todo</Link>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavWidget;\r\n","import TextWidget from \"components/widgets/TextWidget\";\r\nimport NavWidget from \"components/widgets/NavWidget\";\r\nimport React from \"react\";\r\n\r\nconst Sidebar = () => {\r\n  return (\r\n    <div className=\"sidebar-wrapper\">\r\n      <div className=\"sidebar-block\">\r\n        <NavWidget />\r\n      </div>\r\n      <div className=\"sidebar-block\">\r\n        <TextWidget />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import ProductContent from \"components/product/ProductContent\";\r\nimport Sidebar from \"ui/sidebar/Sidebar\";\r\n\r\nconst Product = () => {\r\n  return (\r\n    <div className=\"row justify-content-start\">\r\n      <div className=\"col-3\">\r\n        <Sidebar />\r\n      </div>\r\n      <div className=\"col-8 single-product\">\r\n        <ProductContent />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","import axios from \"axios\";\r\n\r\nexport default class TodosService {\r\n  static getAll = async () => {\r\n    const res = await axios.get(\"http://localhost:5000/api/todo\");\r\n    return res.data;\r\n  };\r\n\r\n  static getById = async (id) => {\r\n    try {\r\n      const res = await axios.get(`http://localhost:5000/api/todo/${id}`);\r\n      return res.data;\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  static getByPage = async (page) => {\r\n    try {\r\n      const res = await axios.get(\r\n        \"http://localhost:5000/api/todo?page=\" + page\r\n      );\r\n\r\n      return [res.data, res.headers[\"x-total-pages\"]];\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  static create = async (title) => {\r\n    const res = await axios.post(\"http://localhost:5000/api/todo\", { title });\r\n    return res.data;\r\n  };\r\n\r\n  static delete = async (id) => {\r\n    const res = await axios.delete(`http://localhost:5000/api/todo/${id}`);\r\n    return res.data;\r\n  };\r\n\r\n  static update = async (todo) => {\r\n    const res = await axios.put(\"http://localhost:5000/api/todo\", { ...todo });\r\n    return res.data;\r\n  };\r\n\r\n  static deleteAll = async () => {\r\n    try {\r\n      const res = await axios.delete(`http://localhost:5000/api/todo`);\r\n      return res.data;\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAC8AAAAvAHPHSQeAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAACRQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAxyY+ZQAAAAt0Uk5TAAYhJD9/orG52OPFq5oYAAAAXUlEQVQYV2NgoBR4BMJYoi0Ms7cLQNiM1TsZuncXQjjiu3cwWO2GSDFW717MwLwaIiW+e5cBA1QKLMEAlYJIQKSgEhApmARYCiYBloJLgKTgEiAphAQDg1oSA1UAAOogJ5WHJgsfAAAAAElFTkSuQmCC\"","import React, { useState } from \"react\";\r\nimport arrowDown from \"images/arrow-down.png\";\r\nimport { useEffect } from \"react/cjs/react.development\";\r\n\r\nconst TodoHeader = ({ page, setPage, qtyPages }) => {\r\n  const [visible, setVisible] = useState(false);\r\n  const [pages, setPages] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const arr = Array.from({ length: qtyPages }, (_, i) => i + 1);\r\n    setPages(arr);\r\n  }, [qtyPages]);\r\n\r\n  return (\r\n    <div className=\"todo-header\">\r\n      <div className=\"todo-header__top\">\r\n        <h4 className=\"todo-title\">Список задач</h4>\r\n        <div\r\n          className=\"todo-header__hiden\"\r\n          onClick={() => setVisible((prev) => !prev)}\r\n        >\r\n          {visible ? (\r\n            <img\r\n              src={arrowDown}\r\n              alt=\"arrow-down\"\r\n              style={{ transform: \"rotate(180deg)\" }}\r\n              title=\"Закрыть подсказки\"\r\n            />\r\n          ) : (\r\n            <img src={arrowDown} alt=\"arrow-down\" title=\"Показать подсказки\" />\r\n          )}\r\n        </div>\r\n        <div>\r\n          <select\r\n            value={page}\r\n            className=\"form-select\"\r\n            onChange={(e) => setPage(e.target.value)}\r\n          >\r\n            <option defaultValue disabled>\r\n              Стр.\r\n            </option>\r\n            {pages.map((page) => (\r\n              <option value={page} key={page}>\r\n                {page}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </div>\r\n      {visible ? (\r\n        <div className=\"todo-header__bottom\">\r\n          <p>\r\n            Приветствую тебя любопытный друг, если ты попал сюда значит тебе\r\n            интересно что есть на этом сайте.\r\n          </p>\r\n          <p>\r\n            Начнем с того <strong>что здесь можно</strong>:\r\n          </p>\r\n          <ul>\r\n            <li>Добавлять свои задачи которые необходимо выполнить</li>\r\n            <li>Удалять todo элементы;</li>\r\n            <li>\r\n              Удалять весь todo список, например если ты хочешь добавить свои\r\n              задачи;\r\n            </li>\r\n            <li>\r\n              Редактировать todo элементы (кроме отмеченных как выполненные);\r\n            </li>\r\n            <li>Ну и собственно отмечать свои задачи как выполненные</li>\r\n            <li>\r\n              Добвить переключение между страницами фейковых todo элементов\r\n            </li>\r\n            <li>\r\n              Все записи сохраняются в mongoDB через собственно написанный restapi на nodejs с использованием фреймворка express js\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TodoHeader;\r\n","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport refresh from \"images/refresh-white.png\";\r\n\r\nconst TodoForm = ({ addTodo, removeAllTodos, refreshTodos }) => {\r\n  // Теперь это title\r\n  const [newTodo, setNewTodo] = useState(\"\");\r\n\r\n  const newTodoItem = (title) => {\r\n    addTodo(title);\r\n    setNewTodo(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"todo-form\">\r\n      <div className=\"todo-form__input\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          placeholder=\"Введите новую задачу\"\r\n          value={newTodo}\r\n          onInput={(e) => setNewTodo(e.target.value)}\r\n        />\r\n      </div>\r\n      <div className=\"todo-form__btns\">\r\n        <button\r\n          className=\"btn btn-default\"\r\n          onClick={() => (newTodo ? newTodoItem(newTodo) : false)}\r\n        >\r\n          Добавить\r\n        </button>\r\n        <button className=\"btn btn-danger\" onClick={removeAllTodos}>\r\n          Удалить все\r\n        </button>\r\n        <button className=\"btn btn-primary btn-refresh\" onClick={refreshTodos}>\r\n          <img src={refresh} alt=\"refresh\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TodoForm;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYEAQAAAAa7ikwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQflCgwUGxgrTt/oAAAB90lEQVRIx+2VP0srURDF55pKLRRkRQKKiJLCIvgBBAuxUDSlaGEpWmnUXmz9AFaCYGWphb2QLmkkIhq0S7RRFLGJu+78LDbh7SbZP/LgVe+Us3fOmbtn5o6RCKATEyLLyyIzM2IyGZGBAUFVzNOTyMODyOWlyMWFMc/P8hvA2Bicn4PrEouvLzg6gnT6T2GWhZZKUCh0qHptDT4/44lb8fYGCwvo4CDc3DSjLZXv7oLq78mbcF2o1fwRH/nKSuek+3vI59FsFvr7oacHMhnY2IDr6zjJBvnoKHx8BD/ZNrq3B8aEe2UMbG5CvR4jcHISDDsOOjubqCHUsrxbhgigw8Pw/R0M5/PJycvlyF8EW1uBiD4+QiqVTKBUivOgSySbDWSZw0NjXDfRwJh6PfpAhzn4j38PKBSi+yC5UbC+Hsw9OJC4NoNiMRl5KuW1uB9LSzEC5TJqWckEdnaCue/v0N0dIVCpJCbXuTlwnGD+/n5DOQy2DdvbUVMNxngPom0Hc6tVtK8vRqABvbvzhCYnobfXe7KnprzdUam0JzgOOj3tq8KPWu3vFo7jwOpqyzWDhkIu174bEkBfXtDFxZA5KBb9hqIjI3B83G5cmFenpzA01Mmn0G3VFBKTy4nMz4uMj4uk0wKIeX0Vub0Vrq5Ezs5MV7UaxvEDLgJfKnv9Tn4AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMTAtMTJUMjA6Mjc6MjMrMDA6MDBWxqyhAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTEwLTEyVDIwOjI3OjIzKzAwOjAwJ5sUHQAAAABJRU5ErkJggg==\"","import React, { useState } from \"react\";\r\n// images\r\nimport del from \"images/x-button.png\";\r\nimport edit from \"images/editing.png\";\r\nimport save from \"images/check.png\";\r\n\r\nconst TodoItem = ({ todo, removeItem, changeItem, doCompletedTodo }) => {\r\n  const [checked, setChecked] = useState(todo.completed);\r\n  const [todoTitle, setTodoTitle] = useState(todo.title);\r\n  const [editor, setEditor] = useState(false);\r\n  const itemGap = editor ? 8 : 12;\r\n\r\n  const changeTodoTitle = () => {\r\n    changeItem(todo._id, todoTitle);\r\n    setEditor((prev) => !prev);\r\n  };\r\n\r\n  const completedTodo = async (id) => {\r\n    await doCompletedTodo(id, !checked);\r\n    setChecked((prev) => !prev);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"todo-item\"\r\n      style={{ paddingTop: itemGap, paddingBottom: itemGap }}\r\n    >\r\n      {!editor ? (\r\n        <div className=\"form-check\">\r\n          <input\r\n            className=\"form-check-input\"\r\n            type=\"checkbox\"\r\n            id=\"todo-child-1\"\r\n            checked={checked}\r\n            onChange={() => completedTodo(todo._id)}\r\n          />\r\n          <label className=\"form-check-label\" htmlFor=\"todo-child-1\">\r\n            {checked ? (\r\n              <span className=\"todo-item__complited\">{todo.title}</span>\r\n            ) : (\r\n              <span>{todo.title}</span>\r\n            )}\r\n          </label>\r\n        </div>\r\n      ) : (\r\n        <div className=\"todo-item__editor\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            value={todoTitle}\r\n            onInput={(e) => setTodoTitle(e.target.value)}\r\n          />\r\n        </div>\r\n      )}\r\n      <div className=\"todo-item__change\">\r\n        {!checked ? (\r\n          <div className=\"todo-item__edit\">\r\n            <img\r\n              src={edit}\r\n              alt=\"edit\"\r\n              onClick={() =>\r\n                setEditor((prev) => {\r\n                  if (prev) setTodoTitle(todo.title);\r\n                  return !prev;\r\n                })\r\n              }\r\n            />\r\n          </div>\r\n        ) : null}\r\n        {!editor ? (\r\n          <div className=\"todo-item__remove\">\r\n            <img\r\n              src={del}\r\n              alt=\"x-button\"\r\n              onClick={() => removeItem(todo._id)}\r\n            />\r\n          </div>\r\n        ) : (\r\n          <div className=\"todo-item__save\">\r\n            <img src={save} alt=\"save-field\" onClick={changeTodoTitle} />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TodoItem;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFoSURBVEiJ7dU9T1RBFMbx35pLIiRmod3QWUiCjRuU0gqJiZ01LaGgo9UvQstH0AJNLEg0gqi9IImaIBVZKMDXZC3mINfrC3N3l84nmZybydznf87cM3cYrKawjfe4OWBv19HBC6zhaJCQE/Mu7mI4IO+KWNDAOIYyDT/ge8n8Md7gACuYC8gXuIq3Qc8d9yqZr6OJi1iNNR1MFViW9uvOCfEMdbGBdpjt4DYOAzIaz7N4CV+xmLczP9XGfhiMxVwzKjnAjWpGC+dlXhdQ27wOoCfzXMDfzJ+H+TQu4T6K6stnARrYlTqnWcm8I7Uq6dR2caX88m+0P+gyWph32oqrmJBacbOUSDmCCxmAdsQ96aw8CvMZqap/KqeCaxFfRfyIW04z7xvwUCr7dUB2cozrAJ7F6Ek536Av/QdkAT5Lt0+/Gon4qTxZ4AmWpGN+3KP5kPS72ZKu01/UwoMwr3Ntlsc3PMVk1fwH6m91oyyRmlUAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAALBSURBVEiJvZZLSFRhFMd/587cUaIGtQeNFkUSFpaVM5oLsZlFtsytiUQkbdzWJpQKzE0b9xHYCyFoFQRl4KUWIjNTSWoPJbSH2kQSo2njnZmvxeQ0zcwdH0n/3T3fx++c797/OfcTpRRWOvT49jZd16uU4AHlRuEBQAiABEURME3TP1jfHLJiSLYEPsOwz6qpiwraAN2ygoRMgY5N4urs83qjyyY43NdTboObgHsZcLqCMTj90tc4nBrUUh88Rk+LDYJrgAO4bRD0GD0tqcHkCTxP7x5UMS0AONYAT9Wi2OKeQF3TK/h9Ap9h2FVMutcBDuBQMen2GYY9mWBWTV0EqVwtaYPNzqmdZWgiaStSmWCCVDy6tc2u2z+xvFsy1L6vmgZXKUPhb1wYekYospC6bEbN6A5N1/WqtcDrtpTQ4CoFwKk7mI2a6Vt0XdertEQTrU6Feh7tZdUAxJWifaSfhVhGC6AEjwZq1ZZs21dNkSMfgBsTwwyFv1nsVG4t2f5p0kRI/3QAJ1178G7ZAcDI7AzXx4esK1F4NKu1c7sP0FVxDKf9j3NL8jdyfm/CbJF4jLaRfmI5ZhmAlhhcf6umaDtnd5VTu7mYO1UnKNtYiCbClf01bLAl/NA19oKJ+XBOOEJAAwmmxz8uzDH643uy6m73ca4dqOVIwVYA+memuPd5NDc8kSGoico8weeFOc4Ee3kw/R4Ah2ZLvvewuciVNwMrgIMoApppmn4gw8SReIzLrwfofOtnMR5Pxq++8/P174aykmmapl8brG8OCXRY7bo/OUbLi16mf87z8Ms4T0IfVlY9dAzWN4dEKYXPMOxhNTmQax4V6HlEVZy5zI7NIvXcKcVH+7ze6P8Z1wCBuqZXIrQCkX+AR0RoXYLD//5lArz0NQ47xVUjcIks7soiU+CSU1w16XCwuFUsaT2uLb8AkxUmcwZsYj4AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANTSURBVEiJnZVPaBR3FMc/7zeb2T/sLgazSdgdUyOh7aFQEgh68aq2GhKpJZd4ih7soYWC7aUUWkp76MnisagYPQiJ0dJaRPBiC3oRCxVRqa7JdptkU+3uxKYkO/N6iEl2NrNJ9Hv7vd+bz/e9N48ZYR0Vs9kOz5h+9f39KrJdwAFQKIhqXuBHA5dzxeJkI4aEBScdJ4fq5wrDgLVeEYAvMFb1vE86p6byGxpMZLMDiIwAyQ3AASm4ojrUUSz+UBs3tYcnjvMRImMvC39RaQqR8SeO82FdPFD5WL3pK8hH9eByJwJQyOUcH+7xCpWHScEVY97smJwsmiVLvqyHm1SK1NGjWJlMQ5Akk6SOHIHW1mAcUup5XwBIMZvtqIo8om5b4nv20HLqFNXHj5k5dAhvenoNPDMyQrS3l/zx4/jnztFkBRCege1m0ZiBejjA/PXrzF+5QqSzk9bRUay2tlC4e/MmU6dPM/3sGYueV4uwfNV+I77/Tmj/1Sqzx47x76VLqybt7UgiQebMmRX43b4+PNfFV11joiLvykQu9xDoajhoy2LriRMkBgao5vP4T59i9/SswiuVQLoRoa25mSbLQuG+TORyLhttj2Wx9eRJEn19AMzdvs3ve/eugYeYzG1q5yUaDWyTtWULVrJxTbXjMkBxXXgiQebsWaK7duHeusXsxYvEd+zgrWvXsLPZdU1my+WIQfXRZuF3DxzgwdAQpQsXiHd1bWhiGfOPEfipIfz8+QDcq1RQz+Ph8DB/j4+vmtSscK2MMb8aA5cBr/4ytnv30irWwJeli4vcP3x4xaRlcDDUIBaNfi0AE47zParDgQ5sm4WdO5m5ehXv+fNQgEQiNO/bR/nGDbxyOXAXte0HvXNzbwgs/WB81XsCqdokVaVUqfDfwkKoQSMZEY2n0z3dpdIdA7CtUPjTiAxSNyoRoTWdJm7bL2UQt+1vu0ulO1Dz7d9WKPysIh8DfiBbhJZ0mtgmTVLx+Gi363660k3t5WuFwneoHlRw6zvJbGBijNFENPrN2+Xy+4Fnw5L/am/PVI35TEU+ACLL8dB3IkK8qekPSSTe65mZ+a2eFWqwrEIu5/iq/YjsF+hUcFSVWdf1fd+ft4z5JRmLffX6i3mH6X8eQ14Ry918mAAAAABJRU5ErkJggg==\"","import React, { useEffect, useState } from \"react\";\r\n// Hooks\r\nimport useFetch from \"hooks/useFetch\";\r\n// Api\r\nimport TodosService from \"api/TodosService\";\r\n// utils\r\nimport { findAndReplaceList } from \"../utils\";\r\n// components\r\nimport TodoHeader from \"components/todo/TodoHeader\";\r\nimport TodoForm from \"components/todo/TodoForm\";\r\nimport TodoItem from \"components/todo/TodoItem\";\r\n// Ui\r\nimport Loader from \"ui/Loader\";\r\n\r\nconst TodoList = () => {\r\n  const [todoList, setTodoList] = useState([]);\r\n  const [page, setPage] = useState(\"1\");\r\n  const [qtyPages, setQtyPages] = useState(0);\r\n  const [loadTodo, isLoading] = useFetch(async () => {\r\n    const [todos, totalPages] = await TodosService.getByPage(page);\r\n    setQtyPages(totalPages);\r\n    setTodoList(todos);\r\n  });\r\n\r\n  const loadAllTodos = (page) => loadTodo(page);\r\n  useEffect(() => loadAllTodos(page), [page, page]); // eslint-disable-line\r\n\r\n  const addTodo = async (title) => {\r\n    const newTodo = await TodosService.create(title);\r\n    if (page === qtyPages) setTodoList([...todoList, newTodo]);\r\n  };\r\n\r\n  const removeTodo = async (id) => {\r\n    await TodosService.delete(id);\r\n    setTodoList([...todoList].filter((todo) => todo._id !== id));\r\n  };\r\n\r\n  const rewriteTodoData = async (id, field, newParam, List) => {\r\n    const updatingTodo = List.find((todo) => todo._id === id);\r\n    updatingTodo[field] = newParam;\r\n    const updatedTodo = await TodosService.update(updatingTodo);\r\n    setTodoList(findAndReplaceList(updatedTodo, List));\r\n  };\r\n\r\n  const changeTodo = async (id, title) => {\r\n    rewriteTodoData(id, \"title\", title, todoList);\r\n  };\r\n\r\n  const doCompletedTodo = async (id, checked) => {\r\n    rewriteTodoData(id, \"completed\", checked, todoList);\r\n  };\r\n\r\n  const removeAllTodos = async () => {\r\n    const result = window.confirm(\"Вы уверены что хотите удалить все записи?\");\r\n    if (!result) return false;\r\n    await TodosService.deleteAll();\r\n    setTodoList([]);\r\n  };\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"col-8\">\r\n        <TodoHeader\r\n          page={page}\r\n          setPage={(page) => setPage(page)}\r\n          qtyPages={qtyPages}\r\n        />\r\n        <TodoForm\r\n          addTodo={addTodo}\r\n          removeAllTodos={removeAllTodos}\r\n          refreshTodos={loadAllTodos}\r\n        />\r\n        <div className=\"todo-wrapper\">\r\n          {!isLoading ? (\r\n            todoList.length ? (\r\n              todoList.map((todo) => (\r\n                <TodoItem\r\n                  todo={todo}\r\n                  removeItem={removeTodo}\r\n                  changeItem={changeTodo}\r\n                  doCompletedTodo={doCompletedTodo}\r\n                  key={todo._id}\r\n                />\r\n              ))\r\n            ) : (\r\n              <p className=\"todo-empty\">У вас нет задач</p>\r\n            )\r\n          ) : (\r\n            <Loader />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TodoList;\r\n","export default __webpack_public_path__ + \"static/media/delete.e4efcb06.svg\";","export default __webpack_public_path__ + \"static/media/delete-red.0a2da310.svg\";","import { useContext, useEffect, useState } from \"react\";\r\nimport trash from \"../../images/icons/delete.svg\";\r\nimport trash_h from \"../../images/icons/delete-red.svg\";\r\n// Utils\r\nimport { price_format, htmlQuotes } from \"utils\";\r\nimport { CartContext } from \"Context\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst CartItem = ({ product }) => {\r\n  const [qty, setQty] = useState(product.qty);\r\n  const { removeProduct, calcTotal } = useContext(CartContext);\r\n\r\n  useEffect(() => {\r\n    calcTotal(product.id, qty);\r\n  }, [qty]); // eslint-disable-line\r\n\r\n  return (\r\n    <tr>\r\n      <td className=\"cart__content-img\">\r\n        <img src={product.img} alt=\"img\" />\r\n      </td>\r\n      <td className=\"cart__content-name\">\r\n        <Link to={`/catalog/${product.id}`}>{htmlQuotes(product.name)}</Link>\r\n      </td>\r\n      <td className=\"cart__content-price\">\r\n        {price_format(parseInt(product.price))}\r\n        {product.suffix}\r\n      </td>\r\n      <td className=\"cart__content-qty\">\r\n        <input\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          min=\"1\"\r\n          max=\"10\"\r\n          value={qty}\r\n          onChange={(e) => setQty(parseInt(e.target.value))}\r\n        />\r\n      </td>\r\n      <td className=\"cart__content-total\">\r\n        {price_format(product.total)}\r\n        {product.suffix}\r\n      </td>\r\n      <td className=\"cart__content-remove\">\r\n        <img\r\n          src={trash}\r\n          alt=\"move-to-trash\"\r\n          onClick={() => removeProduct(product.id)}\r\n          onMouseEnter={(e) => {\r\n            e.target.setAttribute(\"src\", trash_h);\r\n          }}\r\n          onMouseLeave={(e) => {\r\n            e.target.setAttribute(\"src\", trash);\r\n          }}\r\n        />\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n","import React, { useState } from \"react\";\r\n\r\nconst Checkout = () => {\r\n  const [paymentMethod, setPaymentMethod] = useState(\"1\");\r\n  const [shipingMethod, setShipingMethod] = useState(\"1\");\r\n  const [form, setForm] = useState({\r\n    name: \"\",\r\n    phone: \"\",\r\n    email: \"\"\r\n  })\r\n\r\n  const changePM = (value) => setPaymentMethod(value);\r\n  const changeSM = (value) => setShipingMethod(value);\r\n\r\n  return (\r\n    <section className=\"checkout-wraper\">\r\n      <h3 className=\"checkout-title\">Оформление заказа</h3>\r\n      <form className=\"checkout-form\">\r\n        <div className=\"row\">\r\n          <div className=\"col-5\">\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"full-name\" className=\"form-label\">\r\n                Имя Фамилия *\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"full-name\"\r\n                placeholder=\"Иван Иванов\"\r\n                required\r\n                value={form.name}\r\n                onInput={(e) => {\r\n                  setForm({\r\n                    ...form,\r\n                    name: e.target.value\r\n                  })\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"user-phone\" className=\"form-label\">\r\n                Телефон *\r\n              </label>\r\n              <input\r\n                type=\"tel\"\r\n                className=\"form-control\"\r\n                id=\"user-phone\"\r\n                placeholder=\"8 (900) 236-34-44\"\r\n                required\r\n                value={form.phone}\r\n                onInput={(e) => {\r\n                  setForm({\r\n                    ...form,\r\n                    phone: e.target.value,\r\n                  });\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"user-email\" className=\"form-label\">\r\n                E-mail *\r\n              </label>\r\n              <input\r\n                type=\"email\"\r\n                className=\"form-control\"\r\n                id=\"user-email\"\r\n                aria-describedby=\"emailHelp\"\r\n                placeholder=\"ivan@example.com\"\r\n                required\r\n                value={form.email}\r\n                onInput={(e) => {\r\n                  setForm({\r\n                    ...form,\r\n                    email: e.target.value,\r\n                  });\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <div className=\"mb-4\">\r\n              <p className=\"form-label\">Способ оплаты *</p>\r\n              <div className=\"form-check\">\r\n                <input\r\n                  className=\"form-check-input\"\r\n                  type=\"radio\"\r\n                  id=\"flexRadioDefault1\"\r\n                  value=\"1\"\r\n                  onChange={(e) => changePM(e.target.value)}\r\n                  checked={paymentMethod === \"1\"}\r\n                />\r\n                <label className=\"form-check-label\" htmlFor=\"flexRadioDefault1\">\r\n                  Яндекс касса\r\n                </label>\r\n              </div>\r\n              <div className=\"form-check\">\r\n                <input\r\n                  className=\"form-check-input\"\r\n                  type=\"radio\"\r\n                  id=\"flexRadioDefault2\"\r\n                  value=\"2\"\r\n                  onChange={(e) => changePM(e.target.value)}\r\n                  checked={paymentMethod === \"2\"}\r\n                />\r\n                <label className=\"form-check-label\" htmlFor=\"flexRadioDefault2\">\r\n                  Наличные или карта при получении\r\n                </label>\r\n              </div>\r\n            </div>\r\n            <div className=\"mb-3\">\r\n              <p className=\"form-label\">Способ доставки *</p>\r\n              <div className=\"form-check\">\r\n                <input\r\n                  className=\"form-check-input\"\r\n                  type=\"radio\"\r\n                  id=\"flexRadioDefault3\"\r\n                  value=\"1\"\r\n                  onChange={(e) => changeSM(e.target.value)}\r\n                  checked={shipingMethod === \"1\"}\r\n                />\r\n                <label className=\"form-check-label\" htmlFor=\"flexRadioDefault3\">\r\n                  CDEK - Транспортная компания\r\n                </label>\r\n              </div>\r\n              <div className=\"form-check\">\r\n                <input\r\n                  className=\"form-check-input\"\r\n                  type=\"radio\"\r\n                  id=\"flexRadioDefault3\"\r\n                  value=\"2\"\r\n                  onChange={(e) => changeSM(e.target.value)}\r\n                  checked={shipingMethod === \"2\"}\r\n                />\r\n                <label className=\"form-check-label\" htmlFor=\"flexRadioDefault3\">\r\n                  Почта России\r\n                </label>\r\n              </div>\r\n              <div className=\"form-check\">\r\n                <input\r\n                  className=\"form-check-input\"\r\n                  type=\"radio\"\r\n                  id=\"flexRadioDefault4\"\r\n                  value=\"3\"\r\n                  onChange={(e) => changeSM(e.target.value)}\r\n                  checked={shipingMethod === \"3\"}\r\n                />\r\n                <label className=\"form-check-label\" htmlFor=\"flexRadioDefault4\">\r\n                  По договоренности\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Checkout;\r\n","import { CartContext } from \"../Context\";\r\nimport React, { useContext } from \"react\";\r\nimport CartItem from \"components/cart/CartItem\";\r\nimport { price_format } from \"utils\";\r\nimport Sidebar from \"ui/sidebar/Sidebar\";\r\nimport Checkout from \"components/checkout/Checkout\";\r\n\r\nconst sizes_td = [\"11%\", \"45%\", \"13%\", \"12%\", \"13%\", \"6%\"];\r\n\r\nconst Colgroup = () => (\r\n  <colgroup>\r\n    {sizes_td.map((item, ind) => (\r\n      <col style={{ width: item }} key={ind} />\r\n    ))}\r\n  </colgroup>\r\n);\r\n\r\nconst THead = () => (\r\n  <thead className=\"cart__content-head\">\r\n    <tr>\r\n      <td>Фото</td>\r\n      <td>Наименование товара</td>\r\n      <td>Цена</td>\r\n      <td>Кол-во</td>\r\n      <td>Стоимость</td>\r\n      <td>&nbsp;</td>\r\n    </tr>\r\n  </thead>\r\n);\r\n\r\nconst TBody = ({ cartMap }) => (\r\n  <tbody className=\"cart__content-body\">\r\n    {Object.keys(cartMap).length\r\n      ? Object.keys(cartMap).map((key, ind) => (\r\n          <CartItem product={cartMap[key]} key={key} />\r\n        ))\r\n      : null}\r\n  </tbody>\r\n);\r\n\r\nconst TFoot = ({ totalCart }) => (\r\n  <tfoot className=\"cart__content-foot\">\r\n    <tr className=\"cart__content-result\">\r\n      <td colSpan=\"4\">Итого:</td>\r\n      <td>\r\n        {price_format(totalCart)}\r\n        {\" ₽\"}\r\n      </td>\r\n      <td>&nbsp;</td>\r\n    </tr>\r\n  </tfoot>\r\n);\r\n\r\nconst Cart = () => {\r\n  const { cartMap, totalCart } = useContext(CartContext);\r\n\r\n  return (\r\n    <div className=\"row justify-content-center\">\r\n      <div className=\"col-3\">\r\n        <Sidebar />\r\n      </div>\r\n      <div className=\"col-9 d-flex flex-column\" style={{ gap: \"30px 0\" }}>\r\n        {/* <h2 className=\"cart__title\">Корзина</h2> */}\r\n        <section className=\"cart__wrapper\">\r\n          <table className=\"cart__content\">\r\n            <Colgroup />\r\n            <THead />\r\n            <TBody cartMap={cartMap} />\r\n            <TFoot totalCart={totalCart} />\r\n          </table>\r\n        </section>\r\n        <Checkout />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import { useState, useContext, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { htmlQuotes, price_format } from \"utils\";\r\nimport { CartContext } from \"../../Context\";\r\n\r\nconst ProductItem = ({ product }) => {\r\n  const [inCart, setInCart] = useState(false);\r\n  const { cartMap, addToCart } = useContext(CartContext);\r\n  const { push } = useHistory();\r\n\r\n  useEffect(() => {\r\n    setInCart(Object.keys(cartMap).includes(String(product.id)));\r\n  }, [cartMap, product.id]);\r\n\r\n  return (\r\n    <div className=\"col-12 col-lg-4\">\r\n      <div className=\"product__wrapper\">\r\n        <img\r\n          src={\r\n            product?.images[0]?.thumbnail\r\n              ? product.images[0].thumbnail\r\n              : \"https://via.placeholder.com/300x300\"\r\n          }\r\n          alt=\"product-thumbnail\"\r\n        />\r\n        <div className=\"product__body\">\r\n          <p\r\n            className=\"product__name\"\r\n            onClick={() => push(`/catalog/${product.id}`)}\r\n          >\r\n            {htmlQuotes(product.name)}\r\n          </p>\r\n          <p className=\"product__cost\">\r\n            {price_format(parseInt(product.prices.price))}\r\n            {product.prices.currency_suffix}\r\n          </p>\r\n\r\n          {inCart ? (\r\n            <span className=\"product__cart cart_added\">В корзине &#10004;</span>\r\n          ) : (\r\n            <span\r\n              className=\"product__cart\"\r\n              onClick={() => {\r\n                addToCart(product);\r\n                setInCart(true);\r\n              }}\r\n            >\r\n              В корзину\r\n            </span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductItem;\r\n","import ProductItem from \"./ProductItem\";\r\nimport { Context } from \"../../Context\";\r\nimport { useContext } from \"react\";\r\n\r\nconst ProductList = () => {\r\n  const { products } = useContext(Context);\r\n\r\n  return (\r\n    <div className=\"row\" style={{ gap: \"15px 0\" }}>\r\n      {products.length ? (\r\n        products.map((product) => {\r\n          return <ProductItem key={product.id} product={product} />;\r\n        })\r\n      ) : (\r\n        <p className=\"produst__not-found\">\r\n          Мы не смогли найти подходящих товаров для вас! Попробуйте поменять\r\n          настройки фильтра\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductList;\r\n","\r\nimport { Context, FilterContext } from \"../../Context\";\r\nimport { useState, useContext, useEffect } from \"react\";\r\nimport { calc_min_max } from \"utils\";\r\n\r\nconst FilterRange = () => {\r\n  const [minRange, setMinRange] = useState(0);\r\n  const [maxRange, setMaxRange] = useState(0);\r\n  const [currentRange, setCurrentRange] = useState(0);\r\n  const { setMaxCost, sortedPosts } = useContext(FilterContext);\r\n  const { category } = useContext(Context);\r\n\r\n  useEffect(() => {\r\n    if (sortedPosts.length) {\r\n      const min_max = calc_min_max(sortedPosts);\r\n\r\n      setMinRange(min_max[0]);\r\n      setMaxRange(min_max[1]);\r\n      setMaxCost(min_max[1]);\r\n      setCurrentRange(min_max[1]);\r\n    }\r\n  }, [category, sortedPosts]); // eslint-disable-line\r\n\r\n  return (\r\n    <div className=\"main__filter-block\">\r\n      <p className=\"filter-item__title\">Стоимость</p>\r\n      <div className=\"filter-item__content\">\r\n        <input\r\n          type=\"range\"\r\n          className=\"form-range\"\r\n          min={minRange}\r\n          max={maxRange}\r\n          value={currentRange}\r\n          step=\"50\"\r\n          onInput={(e) => setCurrentRange(parseInt(e.target.value))}\r\n          onMouseUp={(e) => setMaxCost(parseInt(e.target.value))}\r\n        />\r\n        <p className=\"filter-item__by-cost\">\r\n          Цена: <span className=\"min-cost\">{minRange}</span> ₽ —{\" \"}\r\n          <span className=\"max-cost\">{currentRange}</span> ₽\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FilterRange;\r\n","import { Context, FilterContext } from \"../../Context\";\r\nimport { useContext } from \"react\";\r\n\r\nconst FilterCategory = () => {\r\n  const { categories } = useContext(Context);\r\n  const { category, setCategory } = useContext(FilterContext);\r\n\r\n  return (\r\n    <div className=\"main__filter-block\">\r\n      <p className=\"filter-item__title\">Категории</p>\r\n      <div className=\"filter-item__content\">\r\n        <select\r\n          className=\"form-select\"\r\n          value={category}\r\n          onChange={(e) => setCategory(parseInt(e.target.value))}\r\n        >\r\n          <option value=\"-1\" defaultValue>\r\n            Выбрать категорию\r\n          </option>\r\n          {categories.map((category) => {\r\n            return category.count !== 0 ? (\r\n              <option value={category.id} key={category.id}>\r\n                {category.name}\r\n              </option>\r\n            ) : null;\r\n          })}\r\n        </select>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterCategory;\r\n","import { Context, FilterContext } from \"../../Context\";\r\nimport React, { useContext } from \"react\";\r\n\r\nconst FilterOrderby = () => {\r\n  const { orderby, setOrderby } = useContext(FilterContext);\r\n  const { products } = useContext(Context);\r\n\r\n  if (products.length < 2) return null;\r\n  \r\n  return (\r\n    <div className=\"main__filter-block\">\r\n      <p className=\"filter-item__title\">Сортировка</p>\r\n      <div className=\"filter-item__content\">\r\n        <select\r\n          className=\"form-select\"\r\n          value={orderby}\r\n          onChange={(e) => setOrderby(e.target.value)}\r\n        >\r\n          <option value=\"default\">По умолчанию</option>\r\n          <option value=\"asc\">По возрастанию</option>\r\n          <option value=\"desc\">По убыванию</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterOrderby;\r\n","import { FilterContext } from \"Context\";\r\nimport React from \"react\";\r\nimport { useContext } from \"react\";\r\n\r\nconst FilterSearch = () => {\r\n  const { searchQuery, setSearchQuery } = useContext(FilterContext);\r\n\r\n  return (\r\n    <div className=\"main__filter-block\">\r\n      <p className=\"filter-item__title\">Поиск</p>\r\n      <div className=\"filter-item__content\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={searchQuery}\r\n          onInput={(e) => setSearchQuery(e.target.value)}\r\n          placeholder=\"Введите запрос\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterSearch;\r\n","import { FilterContext } from \"../../Context\";\r\nimport React, { useContext } from \"react\";\r\n\r\nconst ClearFilter = () => {\r\n  const { setCategory, setOrderby, setSearchQuery } = useContext(FilterContext);\r\n\r\n  const ClearFilter = () => {\r\n    setCategory(-1);\r\n    setOrderby(\"default\");\r\n    setSearchQuery(\"\");\r\n  };\r\n\r\n  return (\r\n    <button className=\"btn btn-default\" onClick={ClearFilter}>\r\n      Сбросить\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default ClearFilter;\r\n","import FilterRange from \"./FilterRange\";\r\nimport FilterCategory from \"./FilterCategory\";\r\nimport FilterOrderby from \"./FilterOrderby\";\r\nimport FilterSearch from \"./FilterSearch\";\r\nimport ClearFilter from \"./ClearFilter\";\r\n// CSS\r\nimport \"./product_filter.css\";\r\n\r\nconst ProductsFilter = () => {\r\n  return (\r\n    <div className=\"main__filter\">\r\n      <FilterSearch />\r\n      <FilterCategory />\r\n      <FilterRange />\r\n      <FilterOrderby />\r\n      <ClearFilter />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductsFilter;\r\n","import { useMemo } from \"react\";\r\nimport {\r\n  sortByCategory,\r\n  sortByCost,\r\n  sortByOrderby,\r\n  searchByQuery,\r\n} from \"../utils\";\r\n\r\nexport const useSortedByCategoryProducts = (category, products) => {\r\n  const sortedPosts = useMemo(() => {\r\n    return sortByCategory(category, [...products]);\r\n  }, [category, products]);\r\n\r\n  return sortedPosts;\r\n};\r\n\r\nexport const useSortedByCostProducts = (maxCost, products) => {\r\n  const sortedByCost = useMemo(() => {\r\n    return maxCost !== 0 ? sortByCost(maxCost, [...products]) : products;\r\n  }, [maxCost, products]);\r\n\r\n  return sortedByCost;\r\n};\r\n\r\nexport const useSortedByOrderbyProducts = (orderby, products) => {\r\n  const sortedByOrderby = useMemo(() => {\r\n    return sortByOrderby(orderby, [...products]);\r\n  }, [orderby, products]);\r\n\r\n  return sortedByOrderby;\r\n};\r\n\r\nexport const useSortedBySearchProducts = (query, products) => {\r\n  const filtredPosts = useMemo(() => {\r\n    return searchByQuery(query, [...products]);\r\n  }, [query, products]);\r\n\r\n  return filtredPosts;\r\n};\r\n\r\n// Полная фильтрация\r\nexport const useProducts = (category, maxCost, orderby, query, products) => {\r\n  const byCategory = useSortedByCategoryProducts(category, products);\r\n  const byMaxCost = useSortedByCostProducts(maxCost, byCategory);\r\n  const byOrderby = useSortedByOrderbyProducts(orderby, byMaxCost);\r\n  const bySearch = useSortedBySearchProducts(query, byOrderby);\r\n\r\n  return bySearch;\r\n};\r\n","import ProductService from \"./rest\";\r\n\r\nexport const get_products = async (callback) => {\r\n  await ProductService.getProducts((products) => {\r\n    callback(products);\r\n  });\r\n};\r\n\r\nexport const get_categories = async (callback) => {\r\n  await ProductService.getCategories((categories) => {\r\n    callback(categories);\r\n  });\r\n};\r\n","import Product from \"pages/Product\";\r\nimport Todo from \"pages/Todo\";\r\nimport Cart from \"../pages/Cart\";\r\nimport Catalog from \"../pages/Catalog\";\r\n\r\nexport const routes = [\r\n  {\r\n    path: \"/catalog\",\r\n    component: Catalog,\r\n    exact: true,\r\n    title: \"Laserkids Store - Каталог\",\r\n  },\r\n  {\r\n    path: \"/catalog/:id\",\r\n    component: Product,\r\n    exact: true,\r\n    title: \"Laserkids Store\",\r\n  },\r\n  {\r\n    path: \"/cart/\",\r\n    component: Cart,\r\n    exact: false,\r\n    title: \"Laserkids Store - Корзина товаров\",\r\n  },\r\n  {\r\n    path: \"/todo/\",\r\n    component: Todo,\r\n    exact: false,\r\n    title: \"Laserkids Store - Список дел\",\r\n  },\r\n];\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport ProductList from \"../components/products/ProductList\";\r\nimport ProductsFilter from \"../components/filter/ProductsFilter\";\r\n// Context\r\nimport { Context, FilterContext, ProductContext } from \"../Context\";\r\n// Hooks\r\nimport { useSortedByCategoryProducts, useProducts } from \"hooks/useProducts\";\r\nimport { useStateIfMounted } from \"use-state-if-mounted\";\r\nimport useFetch from \"hooks/useFetch\";\r\n// Api\r\nimport { get_categories } from \"../api/rest-utils\";\r\nimport ProductService from \"../api/rest\";\r\nimport Loader from \"ui/Loader\";\r\n\r\nconst Catalog = () => {\r\n  // context\r\n  const { cacheProducts, setCacheProducts } = useContext(ProductContext);\r\n  // states\r\n  const [products, setProducts] = useStateIfMounted([]);\r\n  const [categories, setCategories] = useStateIfMounted([]);\r\n  const [category, setCategory] = useState(-1);\r\n  const [maxCost, setMaxCost] = useState(0);\r\n  const [orderby, setOrderby] = useState(\"default\");\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  // fetch\r\n  const [fetching, isLoading, error] = useFetch(async () => {\r\n    const prod = await ProductService.getProducts();\r\n    setProducts(prod);\r\n  });\r\n\r\n  const sortedPosts = useSortedByCategoryProducts(category, products);\r\n  const filtredPosts = useProducts(\r\n    category,\r\n    maxCost,\r\n    orderby,\r\n    searchQuery,\r\n    products\r\n  );\r\n\r\n  // Initial Render\r\n  useEffect(() => {\r\n    if (!cacheProducts.length) {\r\n      fetching();\r\n    } else {\r\n      setProducts(cacheProducts);\r\n    }\r\n\r\n    get_categories((categories) => {\r\n      setCategories(categories);\r\n    });\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (products.length) {\r\n      setCacheProducts(products);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [products]);\r\n\r\n  return (\r\n    <Context.Provider value={{ products: filtredPosts, categories, category }}>\r\n      <section className=\"row main-section justify-content-between\">\r\n        <aside className=\"col-3\">\r\n          <FilterContext.Provider\r\n            value={{\r\n              category,\r\n              orderby,\r\n              maxCost,\r\n              searchQuery,\r\n              sortedPosts,\r\n              setCategory,\r\n              setOrderby,\r\n              setMaxCost,\r\n              setSearchQuery,\r\n            }}\r\n          >\r\n            <ProductsFilter />\r\n          </FilterContext.Provider>\r\n        </aside>\r\n        <article className=\"col-8 mb-5 product-list\">\r\n          {!error.status ? (\r\n            isLoading ? (\r\n              <Loader />\r\n            ) : (\r\n              <ProductList />\r\n            )\r\n          ) : (\r\n            <div>Произошла какая то ошибка - {error.message}</div>\r\n          )}\r\n        </article>\r\n      </section>\r\n    </Context.Provider>\r\n  );\r\n};\r\n\r\nexport default Catalog;\r\n","import React from \"react\";\r\nimport { Route, Switch, Redirect } from \"react-router-dom\";\r\nimport { routes } from \"router\";\r\nimport { Helmet } from \"react-helmet\";\r\n\r\nconst MainRouter = () => {\r\n  return (\r\n    <main className=\"container\">\r\n      <Switch>\r\n        {routes.map((route, id) => (\r\n          <Route\r\n            path={route.path}\r\n            exact={route.exact}\r\n            key={id}\r\n            render={(props) => (\r\n              <React.Fragment>\r\n                <Helmet>\r\n                  <title>{route.title}</title>\r\n                </Helmet>\r\n                <route.component {...props} title={route.title} />\r\n              </React.Fragment>\r\n            )}\r\n          />\r\n        ))}\r\n        <Redirect to=\"/catalog\" />\r\n      </Switch>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default MainRouter;\r\n","import { useLocation } from \"react-router\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst useLocationChange = (action) => {\r\n  const location = useLocation();\r\n  useEffect(() => {\r\n    action(location);\r\n  }, [location, action]);\r\n};\r\n\r\nexport default useLocationChange;\r\n","export default __webpack_public_path__ + \"static/media/shopping-cart-white.61bc96f9.svg\";","import React, { useContext } from \"react\";\r\nimport { CartContext } from \"Context\";\r\nimport { htmlQuotes, price_format } from \"../../utils\";\r\n// Img\r\nimport icon_trash from \"../../images/icons/delete.svg\";\r\nimport icon_trash_hover from \"../../images/icons/delete-red.svg\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst HeaderCartItem = ({ product }) => {\r\n  const { removeProduct } = useContext(CartContext);\r\n\r\n  return (\r\n    <div className=\"cart__products-item\">\r\n      <div className=\"row justify-content-between align-items-center w-100 m-0\">\r\n        <div className=\"col-8\">\r\n          <div className=\"row align-items-center\">\r\n            <div className=\"col-4\">\r\n              <img src={product.img} alt=\"\" className=\"cart__products-image\" />\r\n            </div>\r\n            <div className=\"col-8\">\r\n              <Link\r\n                className=\"cart__products-name\"\r\n                to={`/catalog/${product.id}`}\r\n              >\r\n                {htmlQuotes(product.name)}\r\n                {product.qty > 1 ? ` x ${product.qty} шт.` : null}\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-3\">\r\n          <div className=\"cart__products-right\">\r\n            <p className=\"cart__products-price\">\r\n              {price_format(parseInt(product.total))}\r\n              {product.suffix}\r\n            </p>\r\n            <img\r\n              src={icon_trash}\r\n              alt=\"move-trash\"\r\n              className=\"cart__products-remove\"\r\n              onMouseEnter={(e) => {\r\n                e.target.setAttribute(\"src\", icon_trash_hover);\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                e.target.setAttribute(\"src\", icon_trash);\r\n              }}\r\n              onClick={() => removeProduct(product.id)}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HeaderCartItem;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport useLocationChange from \"../../hooks/useLocationChange\";\r\n// Images\r\nimport icon_cart_path from \"../../images/icons/shopping-cart-white.svg\";\r\n// Utils\r\nimport { price_format } from \"utils\";\r\n// Context\r\nimport { CartContext } from \"../../Context\";\r\nimport { Link } from \"react-router-dom\";\r\nimport HeaderCartItem from \"./HeaderCartItem\";\r\n\r\nconst HeaderCart = () => {\r\n  const [path, setPath] = useState(\"/\");\r\n  const [showCart, setShowCart] = useState(true);\r\n  const { cartMap, cartCounter, totalCart } =\r\n    useContext(CartContext);\r\n\r\n  useLocationChange((location) => {\r\n    setPath(\r\n      location.pathname !== \"/\"\r\n        ? location.pathname.split(\"/\").filter((item) => item !== \"\")[0]\r\n        : \"/\"\r\n    );\r\n  });\r\n\r\n  useEffect(() => {\r\n    setShowCart(Boolean((cartCounter > 0) & (path !== \"cart\")));\r\n  }, [path, cartCounter]);\r\n\r\n  return (\r\n    <div className=\"header__cart\">\r\n      <div className=\"header__cart-inner\">\r\n        <img src={icon_cart_path} alt=\"cart\" className=\"header__cart-icon\" />\r\n        <p>\r\n          {cartCounter > 0 ? (\r\n            <Link to=\"/cart/\" className=\"header__cart-link\">\r\n              Корзина{\" \"}\r\n            </Link>\r\n          ) : (\r\n            \"Корзина \"\r\n          )}\r\n          {showCart ? (\r\n            <span className=\"header__cart-cartCounter\">{cartCounter}</span>\r\n          ) : null}\r\n        </p>\r\n      </div>\r\n      {showCart ? (\r\n        <div className=\"header__cart-content\">\r\n          <div className=\"cart__products\">\r\n            {Object.keys(cartMap).map((key) => (\r\n              <HeaderCartItem product={cartMap[key]} key={key} />\r\n            ))}\r\n          </div>\r\n          <div className=\"cart__driver-wrapper\">\r\n            <hr className=\"cart__driver\" />\r\n          </div>\r\n          <div className=\"cart__total\">\r\n            <span className=\"cart__total-text\">Итого:</span>\r\n            <span className=\"cart__total-price\">\r\n              {price_format(totalCart)} ₽\r\n            </span>\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HeaderCart;\r\n","import HeaderCart from \"components/cart/HeaderCart\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"container\">\r\n        <div className=\"d-flex justify-content-between\">\r\n          <Link to=\"/catalog\" className=\"header__brand\">\r\n            Laserkids Store\r\n          </Link>\r\n          <HeaderCart />\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { useEffect, useState } from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport useDidUpdateEffect from \"./hooks/useDidUpdateEffect\";\nimport { calcTotalCart, filterCart, pushCart, getMapProduct } from \"./utils\";\n// Router\nimport MainRouter from \"router/MainRouter\";\n// Context\nimport { CartContext, ProductContext } from \"./Context\";\n// UI\nimport Header from \"ui/header/Header\";\n// CSS\nimport \"./assets/libs/bootstrap-5.1.0/bootstrap.min.css\";\nimport \"./assets/css/style.scss\";\n\nconst App = () => {\n  const [cacheProducts, setCacheProducts] = useState([]);\n  const [cartMap, setCartMap] = useState({});\n  const [cartCounter, setCartCounter] = useState(0);\n  const [totalCart, setTotalCart] = useState(0);\n\n  // Проверка локальной корзины при рендере\n  useEffect(() => {\n    if (localStorage.getItem(\"WC_Cart\") !== null) {\n      const localCart = JSON.parse(localStorage.getItem(\"WC_Cart\"));\n\n      if (Object.keys(localCart).length !== 0) {\n        setCartMap(localCart);\n        setCartCounter(Object.keys(localCart).length);\n        setTotalCart(calcTotalCart(localCart));\n      }\n    }\n  }, []);\n\n  // Обновление корзины\n  useDidUpdateEffect(() => {\n    localStorage.setItem(\"WC_Cart\", JSON.stringify(cartMap));\n    setCartCounter(Object.keys(cartMap).length);\n    setTotalCart(calcTotalCart(cartMap));\n  }, [cartMap]);\n\n  const removeProduct = (id) => {\n    setCartMap(filterCart(id, cartMap));\n  };\n\n  const calcTotal = (id, qty) => {\n    const map = {\n      ...cartMap[id],\n      qty: qty,\n      total: cartMap[id].price * qty,\n    };\n\n    setCartMap((prev) => pushCart(id, map, prev));\n  };\n\n  const addToCart = (product, qty = 1) => {\n    const map = getMapProduct(product, qty);\n    setCartMap((prev) => pushCart(product.id, map, prev));\n  };\n\n  return (\n    <BrowserRouter>\n      <ProductContext.Provider value={{ cacheProducts, setCacheProducts }}>\n        <CartContext.Provider\n          value={{\n            cartMap,\n            cartCounter,\n            totalCart,\n            removeProduct,\n            calcTotal,\n            addToCart,\n          }}\n        >\n          <Header />\n          <MainRouter />\n        </CartContext.Provider>\n      </ProductContext.Provider>\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}